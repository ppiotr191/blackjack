!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Player=function(){function e(t){r(this,e),this.game=t,this.points=0,this.cards=[]}return a(e,[{key:"resetPoints",value:function(){this.points=0,this.cards=[]}},{key:"isLost",value:function(){return this.points>21}},{key:"drawCard",value:function(){var e=this.game.getRandomCard();return this.cards.push(e),this.points=this.countPoints(),e}},{key:"sumValues",value:function(){return null==this.cards?0:this.cards.reduce(function(e,t){t.value;return null==t.value?e:e+t.value},0)}},{key:"countPoints",value:function(){var e=this.sumValues();if(e>21)for(var t in this.cards){var n=this.cards[t];if("ace"===n.type&&n.value!==n.additionalValue)return this.cards[t].value=n.additionalValue,this.countPoints()}return e}}]),e}()},function(e,t,n){"use strict";var r=n(2),a=n(9),i=n(10),o=document.getElementById("blackjack"),s={pl:i.langPl,en:a.langEn};new r.GameUI(o).setLanguages(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.GameUI=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),s=r(o),l=n(0),u=(r(l),n(4)),c=r(u),h=n(5),y=r(h),f=n(6),p=n(8),d=r(p);t.GameUI=function(){function e(t){a(this,e),this.game=new s.default,this.player=new c.default(this.game),this.computer=new y.default(this.game),this.element=t,this.state=new f.State(this),this.createEvents()}return i(e,[{key:"createEvents",value:function(){var e=this;this.element.querySelector(".page-start").style.display="block",this.element.querySelector(".page-game").style.display="none",this.element.querySelector(".start").addEventListener("click",function(){e.startEvent()}),this.element.querySelector(".new").addEventListener("click",function(){e.newGameEvent()}),this.element.querySelector(".get-card").addEventListener("click",function(){e.getCardEvent()}),this.element.querySelector(".check").addEventListener("click",function(){e.checkEvent()}),this.element.querySelector(".next").addEventListener("click",function(){e.nextEvent()}),document.addEventListener("keydown",function(t){e.state.keyboardInvokeOperation(t.keyCode)}),this.element.querySelector(".flag-poland").addEventListener("click",function(){e.language.setLanguage("pl")}),this.element.querySelector(".flag-england").addEventListener("click",function(){e.language.setLanguage("en")})}},{key:"startEvent",value:function(){this.player.reset(),this.start()}},{key:"newGameEvent",value:function(){this.start()}},{key:"getCardEvent",value:function(){this.getCard()}},{key:"checkEvent",value:function(){this.check(),this.state.setState(new f.FinishState)}},{key:"nextEvent",value:function(){this.player.bid=parseInt(this.element.querySelector("input[name='bid']").value);var e=this.validateBid(this.player.bid);if(!e.status)return document.querySelector(".bid-error").innerHTML=e.message,!1;this.element.querySelector(".cash_player").innerHTML=this.player.cash,this.element.querySelector(".bid").innerHTML=this.player.bid,this.element.querySelector(".page-bid").style.display="none",this.element.querySelector(".page-game").style.display="block",this.state.setState(new f.GameState)}},{key:"setLanguages",value:function(e){this.language=new d.default(this.element,e),"pl"===(navigator.language||navigator.userLanguage).toLowerCase()?this.language.setLanguage("pl"):this.language.setLanguage("en")}},{key:"validateBid",value:function(e){var t={status:!1};return isNaN(e)?(t.message=this.language.translate("enterNumber"),t):e<0?(t.message=this.language.translate("tooSmallBid"),t):e>this.player.cash?(t.message=this.language.translate("notEnoughMoney"),t):(t.status=!0,t)}},{key:"restartGame",value:function(){if(this.game.initGame(),this.player.resetPoints(),this.computer.resetPoints(),this.state.setState(new f.SetBidState),this.player.cash<=0)return this.element.querySelector(".lose-message").innerHTML=this.language.translate("loseTryAgain"),this.state.setState(new f.StartState),this.element.querySelector(".page-start").style.display="block",void(this.element.querySelector(".page-game").style.display="none");this.element.querySelector(".bid-error").innerHTML="",this.element.querySelector(".player-card-container").innerHTML="",this.element.querySelector(".message").innerHTML="",this.element.querySelector(".points").innerHTML=0,this.element.querySelector(".cash").innerHTML=this.player.cash,this.element.querySelector(".computer-card-container").innerHTML="",this.element.querySelector(".computer-points").innerHTML=0,this.element.querySelector(".page-start").style.display="none",this.element.querySelector(".page-bid").style.display="block",this.element.querySelector(".page-game").style.display="none",this.element.querySelector(".get-card").style.display="inline-block",this.element.querySelector(".check").style.display="inline-block",this.element.querySelector(".new").style.display="none",this.element.querySelector(".opponent").style.display="none",this.element.querySelector("input[name='bid']").focus(),this.element.querySelector("input[name='bid']").select()}},{key:"start",value:function(){this.restartGame()}},{key:"getCard",value:function(){var e=this.player.drawCard(),t=document.createElement("div");t.className="card "+e.class,this.element.querySelector(".player-card-container").appendChild(t),this.element.querySelector(".points").innerHTML=this.player.points,this.player.isLost()&&(this.state.setState(new f.FinishState),this.player.cash-=this.player.bid,this.element.querySelector(".message").innerHTML=this.language.translate("exceedLimit"),this.element.querySelector(".get-card").style.display="none",this.element.querySelector(".check").style.display="none",this.element.querySelector(".new").style.display="inline-block")}},{key:"check",value:function(){for(;!this.computer.isPassed();){var e=this.computer.drawCard(),t=document.createElement("div");t.className="card "+e.class,this.element.querySelector(".computer-card-container").appendChild(t)}this.element.querySelector(".computer-points").innerHTML=this.computer.points;var n=void 0;this.computer.isLost()||this.computer.points<this.player.points?(n=this.language.translate("win"),this.player.cash+=this.player.bid):this.computer.points===this.player.points?n=this.language.translate("draw"):(n=this.language.translate("lose"),this.player.cash-=this.player.bid),this.element.querySelector(".message").innerHTML=n,this.element.querySelector(".get-card").style.display="none",this.element.querySelector(".check").style.display="none",this.element.querySelector(".new").style.display="inline-block",this.element.querySelector(".opponent").style.display="block"}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.initGame()}return a(e,[{key:"initGame",value:function(){this.cardPoints=[];var e=["clubs","hearts","spades","diamonds"],t={ace:11,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,jack:10,queen:10,king:10};for(var n in e)for(var r in t){var a={value:t[r],type:r,class:r+"_"+e[n]};"ace"===r&&(a.additionalValue=1),this.cardPoints.push(a)}}},{key:"getRandomCard",value:function(){var e=Math.floor(Math.random()*this.cardPoints.length),t=this.cardPoints[e];return this.cardPoints.splice(e,1),t}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reset(),n}return i(t,e),o(t,[{key:"reset",value:function(){this.cash=1e4,this.bid=0}},{key:"setBid",value:function(e){this.bid=e}}]),t}(s.Player);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"isPassed",value:function(){return this.points>=15}}]),t}(s.Player);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.FinishState=t.GameState=t.SetBidState=t.StartState=t.StateOption=t.State=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),l=(t.State=function(){function e(t){i(this,e),this.gameUI=t,this.setState(new u)}return o(e,[{key:"setState",value:function(e){this.state=e,this.state.setGameUI(this.gameUI)}},{key:"keyboardInvokeOperation",value:function(e){var t=this.state.keyOperation[e];void 0!==t&&t()}}]),e}(),t.StateOption=function(){function e(){i(this,e),this.keyOperation=[]}return o(e,[{key:"setGameUI",value:function(e){this.gameUI=e}}]),e}()),u=t.StartState=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.keyOperation[s.enums.keyboard.ENTER]=function(){e.gameUI.startEvent()},e}return a(t,e),t}(l);t.SetBidState=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.keyOperation[s.enums.keyboard.ENTER]=function(){e.gameUI.nextEvent()},e}return a(t,e),t}(l),t.GameState=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.keyOperation[s.enums.keyboard.ENTER]=function(){e.gameUI.checkEvent()},e.keyOperation[s.enums.keyboard.SPACE]=function(){e.gameUI.getCardEvent()},e}return a(t,e),t}(l),t.FinishState=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.keyOperation[s.enums.keyboard.ENTER]=function(){e.gameUI.newGameEvent()},e}return a(t,e),t}(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t.enums={}).keyboard={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,LEFT_META:91,RIGHT_META:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMICOLON:186,EQUALS:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){r(this,e),this.element=t,this.currentLanguage="en",this.languageFiles=n}return a(e,[{key:"setLanguage",value:function(e){this.currentLanguage=this.languageFiles[e],this.element.querySelector(".start").innerHTML=this.translate("play"),this.element.querySelector(".next").innerHTML=this.translate("next"),this.element.querySelector(".get-card").innerHTML=this.translate("drawCart"),this.element.querySelector(".get-card").innerHTML=this.translate("drawCart"),this.element.querySelector(".check").innerHTML=this.translate("stand");for(var t=this.element.querySelectorAll(".cash-label"),n=0;n<t.length;n++)t[n].innerHTML=this.translate("cash");this.element.querySelector(".bet-label").innerHTML=this.translate("bet"),this.element.querySelector(".set-bet-label").innerHTML=this.translate("setBet"),this.element.querySelector(".value-label").innerHTML=this.translate("cartValue"),this.element.querySelector(".opponent-value-label").innerHTML=this.translate("opponentCartValue")}},{key:"translate",value:function(e){return this.currentLanguage[e]}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.langEn={play:"Play",next:"Next",drawCart:"Draw a cart",stand:"Stand",enterNumber:"Please, enter a number",tooSmallBid:"Too small bet",notEnoughMoney:"You have not enough money",loseTryAgain:"You lost. Can you try again??",exceedLimit:"ExceedLimit 21.",win:"Congratulation, you won!",draw:"Draw",lose:"Opponent won",cash:"Cash",setBet:"Enter your bet",bet:"Bet",cartValue:"Value of cart",opponentCartValue:"Value of opponent cart"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.langPl={play:"Graj",next:"Dalej",drawCart:"Pobierz karte",stand:"Pas",enterNumber:"Nie podano liczby",tooSmallBid:"Za mała stawka",notEnoughMoney:"Nie masz tyle pieniędzy",loseTryAgain:"Niestety przegraleś. Może zaczniemy od nowa?",exceedLimit:"Przekroczono wartość 21.",win:"Gratulacje, wygraleś!",draw:"Remis",lose:"Wygrał przeciwnik",cash:"Kasa",setBet:"Ustaw wysokość stawki",bet:"Stawka",cartValue:"Wartość kart",opponentCartValue:"Wartość kart przeciwnika"}}]);